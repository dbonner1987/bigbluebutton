{"version":3,"sources":["meteor://üíªapp/packages/francocatena_status/lib/template.status.js","meteor://üíªapp/packages/francocatena_status/templates/template.bootstrap3.js","meteor://üíªapp/packages/francocatena_status/templates/template.semantic_ui.js","meteor://üíªapp/packages/francocatena_status/templates/template.materialize.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/cn.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/cs.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/da.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/de.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/en.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/es.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/fr.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/it.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/ms.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/nl.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/pt.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/ru.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/tr.i18n.js","meteor://üíªapp/packages/francocatena_status/packages/francocatena_statusi18n/zh.i18n.js","meteor://üíªapp/packages/francocatena_status/status.js","meteor://üíªapp/packages/francocatena_status/lib/status.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G","file":"/packages/francocatena_status.js","sourcesContent":["\nTemplate.__checkName(\"status\");\nTemplate[\"status\"] = new Template(\"Template.status\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"template\")),\n      data: Spacebars.call(view.lookup(\"helpers\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  });\n}));\n","\nTemplate.__checkName(\"status_bootstrap3\");\nTemplate[\"status_bootstrap3\"] = new Template(\"Template.status_bootstrap3\", (function() {\n  var view = this;\n  return Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"connected\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": function() {\n        return [ \"alert \", Spacebars.mustache(view.lookup(\"option\"), \"classes\"), \" text-center\" ];\n      },\n      role: \"alert\"\n    }, \"\\n      \", HTML.STRONG(\"\\n        \", HTML.SPAN({\n      \"class\": \"glyphicon glyphicon-warning-sign\"\n    }), \"\\n        \", Blaze.View(\"lookup:message\", function() {\n      return Spacebars.mustache(view.lookup(\"message\"));\n    }), \"\\n      \"), \"\\n      \", Blaze.View(\"lookup:extraMessage\", function() {\n      return Spacebars.mustache(view.lookup(\"extraMessage\"));\n    }), \"\\n\\n      \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showReconnect\"));\n    }, function() {\n      return [ \"\\n        \", HTML.A({\n        href: \"#\",\n        \"class\": \"alert-link\"\n      }, Blaze.View(\"lookup:reconnectLabel\", function() {\n        return Spacebars.mustache(view.lookup(\"reconnectLabel\"));\n      })), \"\\n      \" ];\n    }), \"\\n    \"), \"\\n  \" ];\n  });\n}));\n","\nTemplate.__checkName(\"status_semantic_ui\");\nTemplate[\"status_semantic_ui\"] = new Template(\"Template.status_semantic_ui\", (function() {\n  var view = this;\n  return Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"connected\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": function() {\n        return [ \"ui \", Spacebars.mustache(view.lookup(\"option\"), \"classes\"), \" message\" ];\n      }\n    }, \"\\n      \", HTML.DIV({\n      \"class\": \"content\"\n    }, \"\\n        \", HTML.DIV({\n      \"class\": \"header\"\n    }, \"\\n          \", Blaze.View(\"lookup:message\", function() {\n      return Spacebars.mustache(view.lookup(\"message\"));\n    }), \" \", HTML.CharRef({\n      html: \"&nbsp;\",\n      str: \"¬†\"\n    }), \"\\n          \", Blaze.View(\"lookup:extraMessage\", function() {\n      return Spacebars.mustache(view.lookup(\"extraMessage\"));\n    }), \"\\n          \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showReconnect\"));\n    }, function() {\n      return [ \"\\n            \", HTML.A({\n        href: \"#\",\n        \"class\": \"alert-link\"\n      }, Blaze.View(\"lookup:reconnectLabel\", function() {\n        return Spacebars.mustache(view.lookup(\"reconnectLabel\"));\n      })), \"\\n          \" ];\n    }), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \" ];\n  });\n}));\n","\nTemplate.__checkName(\"status_materialize\");\nTemplate[\"status_materialize\"] = new Template(\"Template.status_materialize\", (function() {\n  var view = this;\n  return Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"connected\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": function() {\n        return [ \"center card-panel orange lighten-5 \", Spacebars.mustache(view.lookup(\"classes\")) ];\n      }\n    }, \"\\n      \", HTML.SPAN({\n      \"class\": \"lime-text text-darken-4\"\n    }, \"\\n      \", HTML.STRONG(\"\\n        \", HTML.I({\n      \"class\": \"small mdi-alert-warning\"\n    }), \"\\n      \"), \"\\n        \", Blaze.View(\"lookup:message\", function() {\n      return Spacebars.mustache(view.lookup(\"message\"));\n    }), \"\\n      \"), \"\\n      \", Blaze.View(\"lookup:extraMessage\", function() {\n      return Spacebars.mustache(view.lookup(\"extraMessage\"));\n    }), \"\\n      \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showReconnect\"));\n    }, function() {\n      return [ \"\\n        \", HTML.A({\n        href: \"#\",\n        \"class\": \"alert-link\"\n      }, Blaze.View(\"lookup:reconnectLabel\", function() {\n        return Spacebars.mustache(view.lookup(\"reconnectLabel\"));\n      })), \"\\n      \" ];\n    }), \"\\n    \"), \"\\n  \" ];\n  });\n}));\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"cn\"] = [\"cn\",\"cn\"];\nTAPi18n._enable({\"helper_name\":\"_\",\"supported_languages\":null,\"i18n_files_route\":\"/tap-i18n\",\"preloaded_langs\":[],\"cdn_path\":null});\nTAPi18n.languages_names[\"en\"] = [\"English\",\"English\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"cs\"] = [\"Czech\",\"ƒçe≈°tina‚Äé\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"da\"] = [\"Danish\",\"Dansk\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"de\"] = [\"German\",\"Deutsch\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\n// integrate the fallback language translations \ntranslations = {};\ntranslations[namespace] = {\"meteor_status_connected\":\"Connected\",\"meteor_status_connecting\":\"Connecting...\",\"meteor_status_failed\":\"The server connection failed\",\"meteor_status_waiting\":\"Waiting for server connection,\",\"meteor_status_offline\":\"Offline mode.\",\"meteor_status_reconnect_in\":\"trying again in one second...\",\"meteor_status_reconnect_in_plural\":\"trying again in __count__ seconds...\",\"meteor_status_try_now_waiting\":\"Try now\",\"meteor_status_try_now_offline\":\"Connect again\"};\nTAPi18n._loadLangFileObject(\"en\", translations);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"es\"] = [\"Spanish (Spain)\",\"Espa√±ol\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"fr\"] = [\"French (France)\",\"Fran√ßais\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"it\"] = [\"Italian\",\"Italiano\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ms\"] = [\"Malay\",\"Bahasa Melayu\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"nl\"] = [\"Dutch\",\"Nederlands\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"pt\"] = [\"Portuguese (Portugal)\",\"Portugu√™s\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ru\"] = [\"Russian\",\"–†—É—Å—Å–∫–∏–π\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"tr\"] = [\"Turkish\",\"T√ºrk√ße\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"zh\"] = [\"Chinese\",\"‰∏≠Êñá\"];\n","var template = new ReactiveVar('bootstrap3')\nvar options  = new ReactiveVar({})\nvar defaults = {\n  classes: {\n    bootstrap3:  'alert-warning',\n    semantic_ui: 'negative'\n  }\n}\n\nStatus = {\n  template: function () {\n    return template.get()\n  },\n\n  option: function (option) {\n    return options.get()[option] || defaults[option][template.get()]\n  },\n\n  setTemplate: function (name, _options) {\n    template.set(name)\n\n    if (_options) options.set(_options)\n  }\n}\n","var retryTime   = new ReactiveVar(0)\nvar retryHandle = null\n\nvar clearRetryInterval = function () {\n  clearInterval(retryHandle)\n\n  retryHandle = null\n}\n\nvar trackStatus = function () {\n  if (Meteor.status().status === 'waiting')\n    retryHandle = retryHandle || setInterval(function () {\n      var timeDiff   = Meteor.status().retryTime - (new Date).getTime()\n      var _retryTime = timeDiff > 0 && Math.round(timeDiff / 1000) || 0\n\n      retryTime.set(_retryTime)\n    }, 500)\n  else\n    clearRetryInterval()\n}\n\nvar helpers = {\n  connected: function () {\n    return Meteor.status().connected\n  },\n\n  message: function () {\n    return TAPi18n.__('meteor_status', { context: Meteor.status().status })\n  },\n\n  extraMessage: function () {\n    if (Meteor.status().status === 'waiting')\n      return TAPi18n.__('meteor_status_reconnect_in', { count: retryTime.get() })\n  },\n\n  showReconnect: function () {\n    return _.contains(['waiting', 'offline'], Meteor.status().status)\n  },\n\n  reconnectLabel: function () {\n    return TAPi18n.__('meteor_status_try_now', { context: Meteor.status().status })\n  },\n\n  option: function (option) {\n    return Status.option(option)\n  }\n}\n\nTemplate.status.onDestroyed(clearRetryInterval)\n\nTemplate.status.onCreated(function () {\n  this.autorun(trackStatus)\n})\n\nTemplate.status.helpers({\n  template: function () {\n    return 'status_' + Status.template()\n  },\n\n  helpers: function () {\n    return helpers\n  }\n})\n\nTemplate.status.events({\n  'click a.alert-link': function (e) {\n    e.preventDefault()\n    Meteor.reconnect()\n  }\n})\n"]}