{"version":3,"sources":["meteor://ðŸ’»app/client/globals.coffee"],"names":[],"mappings":"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","file":"/client/globals.coffee.js","sourcesContent":["@getBuildInformation = ->\r\n  copyrightYear = Meteor.config?.copyrightYear or \"DATE\"\r\n  html5ClientBuild = Meteor.config?.html5ClientBuild or \"VERSION\"\r\n  defaultWelcomeMessage = Meteor.config?.defaultWelcomeMessage or \"WELCOME MESSAGE\"\r\n  defaultWelcomeMessageFooter = Meteor.config?.defaultWelcomeMessageFooter or \"WELCOME MESSAGE\"\r\n  link = \"<a href='http://bigbluebutton.org/' target='_blank'>http://bigbluebutton.org</a>\"\r\n\r\n  {\r\n    'copyrightYear': copyrightYear\r\n    'html5ClientBuild': html5ClientBuild\r\n    'defaultWelcomeMessage': defaultWelcomeMessage\r\n    'defaultWelcomeMessageFooter': defaultWelcomeMessageFooter\r\n    'link': link\r\n  }\r\n\r\n# Convert a color `value` as integer to a hex color (e.g. 255 to #0000ff)\r\n@colourToHex = (value) ->\r\n  hex = parseInt(value).toString(16)\r\n  hex = \"0\" + hex while hex.length < 6\r\n  \"##{hex}\"\r\n\r\n# color can be a number (a hex converted to int) or a string (e.g. \"#ffff00\")\r\n@formatColor = (color) ->\r\n  color ?= \"0\" # default value\r\n  if !color.toString().match(/\\#.*/)\r\n    color = colourToHex(color)\r\n  color\r\n\r\n@getCurrentSlideDoc = -> # returns only one document\r\n  BBB.getCurrentSlide()\r\n\r\n@getInSession = (k) -> SessionAmplify.get k\r\n\r\n@getTime = -> # returns epoch in ms\r\n  (new Date).valueOf()\r\n\r\n# checks if the pan gesture is mostly horizontal\r\n@isPanHorizontal = (event) ->\r\n  Math.abs(event.deltaX) > Math.abs(event.deltaY)\r\n\r\n# helper to determine whether user has joined any type of audio\r\nHandlebars.registerHelper \"amIInAudio\", ->\r\n  BBB.amIInAudio()\r\n\r\n# helper to determine whether the user is in the listen only audio stream\r\nHandlebars.registerHelper \"amIListenOnlyAudio\", ->\r\n  BBB.amIListenOnlyAudio()\r\n\r\n# helper to determine whether the user is in the listen only audio stream\r\nHandlebars.registerHelper \"isMyMicLocked\", ->\r\n  BBB.isMyMicLocked()\r\n\r\nHandlebars.registerHelper \"colourToHex\", (value) =>\r\n  @window.colourToHex(value)\r\n\r\nHandlebars.registerHelper 'equals', (a, b) -> # equals operator was dropped in Meteor's migration from Handlebars to Spacebars\r\n  a is b\r\n\r\nHandlebars.registerHelper \"getCurrentMeeting\", ->\r\n  Meteor.Meetings.findOne()\r\n\r\nHandlebars.registerHelper \"getCurrentSlide\", ->\r\n  getCurrentSlideDoc()\r\n\r\n# Allow access through all templates\r\nHandlebars.registerHelper \"getInSession\", (k) -> SessionAmplify.get k\r\n\r\nHandlebars.registerHelper \"getMeetingName\", ->\r\n  BBB.getMeetingName()\r\n\r\nHandlebars.registerHelper \"getShapesForSlide\", ->\r\n  currentSlide = getCurrentSlideDoc()\r\n\r\n  # try to reuse the lines above\r\n  Meteor.Shapes.find({whiteboardId: currentSlide?.slide?.id})\r\n\r\n# retrieves all users in the meeting\r\nHandlebars.registerHelper \"getUsersInMeeting\", ->\r\n  users = Meteor.Users.find().fetch()\r\n  if users?.length > 1\r\n    getSortedUserList(users)\r\n  else\r\n    users\r\n\r\nHandlebars.registerHelper \"getWhiteboardTitle\", ->\r\n  (BBB.currentPresentationName() or \"Loading presentation...\")\r\n\r\nHandlebars.registerHelper \"getCurrentUserEmojiStatus\", ->\r\n  BBB.getCurrentUser()?.user?.emoji_status\r\n\r\nHandlebars.registerHelper \"isCurrentUser\", (userId) ->\r\n  userId is null or userId is BBB.getCurrentUser()?.userId\r\n\r\nHandlebars.registerHelper \"isCurrentUserMuted\", ->\r\n  BBB.amIMuted()\r\n\r\n#Retreives a username for a private chat tab from the database if it exists\r\nHandlebars.registerHelper \"privateChatName\", ->\r\n  obj = Meteor.Users.findOne({ userId: getInSession \"inChatWith\" })\r\n  if obj?\r\n    obj?.user?.name\r\n\r\nHandlebars.registerHelper \"isCurrentUserEmojiStatusSet\", ->\r\n  BBB.isCurrentUserEmojiStatusSet()\r\n\r\nHandlebars.registerHelper \"isCurrentUserSharingVideo\", ->\r\n  BBB.amISharingVideo()\r\n\r\nHandlebars.registerHelper \"isCurrentUserTalking\", ->\r\n  BBB.amITalking()\r\n\r\nHandlebars.registerHelper \"isCurrentUserPresenter\", ->\r\n  BBB.isUserPresenter(getInSession('userId'))\r\n\r\nHandlebars.registerHelper \"isDisconnected\", ->\r\n  return !Meteor.status().connected\r\n\r\nHandlebars.registerHelper \"isUserInAudio\", (userId) ->\r\n  BBB.isUserInAudio(userId)\r\n\r\nHandlebars.registerHelper \"isUserListenOnlyAudio\", (userId) ->\r\n  BBB.isUserListenOnlyAudio(userId)\r\n\r\nHandlebars.registerHelper \"isUserMuted\", (userId) ->\r\n  BBB.isUserMuted(userId)\r\n\r\nHandlebars.registerHelper \"isUserSharingVideo\", (userId) ->\r\n  BBB.isUserSharingWebcam(userId)\r\n\r\nHandlebars.registerHelper \"isUserTalking\", (userId) ->\r\n  BBB.isUserTalking(userId)\r\n\r\nHandlebars.registerHelper 'isMobile', () ->\r\n  isMobile()\r\n\r\nHandlebars.registerHelper 'isPortraitMobile', () ->\r\n  isPortraitMobile()\r\n\r\nHandlebars.registerHelper 'isMobileChromeOrFirefox', () ->\r\n  isMobile() and ((getBrowserName() is 'Chrome') or (getBrowserName() is 'Firefox'))\r\n\r\nHandlebars.registerHelper \"meetingIsRecording\", ->\r\n  BBB.isMeetingRecording()\r\n\r\nHandlebars.registerHelper \"messageFontSize\", ->\r\n  style: \"font-size: #{getInSession(\"messageFontSize\")}px;\"\r\n\r\nHandlebars.registerHelper \"pointerLocation\", ->\r\n  currentPresentation = Meteor.Presentations.findOne({\"presentation.current\": true})\r\n  presentationId = currentPresentation?.presentation?.id\r\n  currentSlideDoc = Meteor.Slides.findOne({\"presentationId\": presentationId, \"slide.current\": true})\r\n  pointer = currentPresentation?.pointer\r\n  pointer.x = (- currentSlideDoc.slide.x_offset * 2 + currentSlideDoc.slide.width_ratio * pointer.x) / 100\r\n  pointer.y = (- currentSlideDoc.slide.y_offset * 2 + currentSlideDoc.slide.height_ratio * pointer.y) / 100\r\n  pointer\r\n\r\nHandlebars.registerHelper \"safeName\", (str) ->\r\n  safeString(str)\r\n\r\n###Handlebars.registerHelper \"visibility\", (section) ->\r\n  if getInSession \"display_#{section}\"\r\n    style: 'display:block;'\r\n  else\r\n    style: 'display:none;'###\r\n\r\nHandlebars.registerHelper \"visibility\", (section) ->\r\n  style: 'display:block;'\r\n\r\nHandlebars.registerHelper 'containerPosition', (section) ->\r\n  if getInSession 'display_usersList'\r\n    return 'moved-to-right'\r\n  else if getInSession 'display_menu'\r\n    return 'moved-to-left'\r\n  else\r\n    return ''\r\n\r\n# vertically shrinks the whiteboard if the slide navigation controllers are present\r\nHandlebars.registerHelper 'whiteboardSize', (section) ->\r\n  if BBB.isUserPresenter(getInSession('userId'))\r\n    return 'presenter-whiteboard'\r\n  else\r\n    if BBB.isPollGoing(getInSession('userId'))\r\n      return 'poll-whiteboard'\r\n    else\r\n      return 'viewer-whiteboard'\r\n\r\nHandlebars.registerHelper \"getPollQuestions\", ->\r\n  polls = BBB.getCurrentPoll(getInSession('userId'))\r\n  if polls? and polls isnt undefined\r\n    number = polls.poll_info.poll.answers.length\r\n    widthStyle = \"width: calc(75%/\" + number + \");\"\r\n    marginStyle = \"margin-left: calc(25%/\" + (number*2) + \");\" + \"margin-right: calc(25%/\" + (number*2) + \");\"\r\n    buttonStyle = widthStyle + marginStyle\r\n    for answer in polls.poll_info.poll.answers\r\n      answer.style = buttonStyle\r\n    return polls.poll_info.poll.answers\r\n\r\n@getSortedUserList = (users) ->\r\n  if users?.length > 1\r\n    users.sort (a, b) ->\r\n      if a.user.role is \"MODERATOR\" and b.user.role is \"MODERATOR\"\r\n        if a.user.set_emoji_time and b.user.set_emoji_time\r\n          aTime = a.user.set_emoji_time.getTime()\r\n          bTime = b.user.set_emoji_time.getTime()\r\n          if aTime < bTime\r\n            return -1\r\n          else\r\n            return 1\r\n        else if a.user.set_emoji_time\r\n          return -1\r\n        else if b.user.set_emoji_time\r\n          return 1\r\n      else if a.user.role is \"MODERATOR\"\r\n        return -1\r\n      else if b.user.role is \"MODERATOR\"\r\n        return 1\r\n      else if a.user.set_emoji_time and b.user.set_emoji_time\r\n        aTime = a.user.set_emoji_time.getTime()\r\n        bTime = b.user.set_emoji_time.getTime()\r\n        if aTime < bTime\r\n          return -1\r\n        else\r\n          return 1\r\n      else if a.user.set_emoji_time\r\n        return -1\r\n      else if b.user.set_emoji_time\r\n        return 1\r\n      else if not a.user.phone_user and not b.user.phone_user\r\n\r\n      else if not a.user.phone_user\r\n        return -1\r\n      else if not b.user.phone_user\r\n        return 1\r\n\r\n      #Check name (case-insensitive) in the event of a tie up above. If the name\r\n      #is the same then use userID which should be unique making the order the same\r\n      #across all clients.\r\n\r\n      if a.user._sort_name < b.user._sort_name\r\n        return -1\r\n      else if a.user._sort_name > b.user._sort_name\r\n        return 1\r\n      else if a.user.userid.toLowerCase() > b.user.userid.toLowerCase()\r\n        return -1\r\n      else if a.user.userid.toLowerCase() < b.user.userid.toLowerCase()\r\n        return 1\r\n\r\n  users\r\n\r\n# transform plain text links into HTML tags compatible with Flash client\r\n@linkify = (str) ->\r\n  str = str.replace re_weburl, \"<a href='event:$&'><u>$&</u></a>\"\r\n\r\n@setInSession = (k, v) -> SessionAmplify.set k, v\r\n\r\n@safeString = (str) ->\r\n  if typeof str is 'string'\r\n    str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n\r\n@toggleCam = (event) ->\r\n  # Meteor.Users.update {_id: context._id} , {$set:{\"user.sharingVideo\": !context.sharingVideo}}\r\n  # Meteor.call('userToggleCam', context._id, !context.sharingVideo)\r\n\r\n@toggleChatbar = ->\r\n  setInSession \"display_chatbar\", !getInSession \"display_chatbar\"\r\n  if !getInSession(\"display_chatbar\")\r\n    $('#whiteboard').css('width', '100%')\r\n    $('#whiteboard .ui-resizable-handle').css('display', 'none')\r\n  else\r\n    $('#whiteboard').css('width', '')\r\n    $('#whiteboard .ui-resizable-handle').css('display', '')\r\n  setTimeout(scaleWhiteboard, 0)\r\n\r\n@toggleMic = (event) ->\r\n  BBB.toggleMyMic()\r\n\r\n@toggleUsersList = ->\r\n  if $('.userlistMenu').hasClass('hiddenInLandscape')\r\n    $('.userlistMenu').removeClass('hiddenInLandscape')\r\n  else\r\n    $('.userlistMenu').addClass('hiddenInLandscape')\r\n  setTimeout(scaleWhiteboard, 0)\r\n\r\n@populateNotifications = (msg) ->\r\n  myUserId = getInSession \"userId\"\r\n  users = Meteor.Users.find().fetch()\r\n\r\n  # assuming that I only have access only to private messages where I am the sender or the recipient\r\n  myPrivateChats = Meteor.Chat.find({'message.chat_type': 'PRIVATE_CHAT'}).fetch()\r\n\r\n  uniqueArray = []\r\n  for chat in myPrivateChats\r\n    if chat.message.to_userid is myUserId\r\n      uniqueArray.push({userId: chat.message.from_userid, username: chat.message.from_username})\r\n    if chat.message.from_userid is myUserId\r\n      uniqueArray.push({userId: chat.message.to_userid, username: chat.message.to_username})\r\n\r\n  #keep unique entries only\r\n  uniqueArray = uniqueArray.filter((itm, i, a) ->\r\n      i is a.indexOf(itm)\r\n    )\r\n\r\n  if msg.message.to_userid is myUserId\r\n    new_msg_userid = msg.message.from_userid\r\n  if msg.message.from_userid is myUserId\r\n    new_msg_userid = msg.message.to_userid\r\n\r\n  chats = getInSession('chats')\r\n  if chats is undefined\r\n    initChats = [\r\n      userId: \"PUBLIC_CHAT\"\r\n      gotMail: false\r\n      number: 0;\r\n    ]\r\n    setInSession 'chats', initChats\r\n\r\n  #insert the unique entries in the collection\r\n  for u in uniqueArray\r\n    chats = getInSession('chats')\r\n    if chats.filter((chat) -> chat.userId == u.userId).length is 0 and u.userId is new_msg_userid\r\n      chats.push {userId: u.userId, gotMail: false, number: 0}\r\n      setInSession 'chats', chats\r\n\r\n@toggleShield = ->\r\n  if parseFloat($('.shield').css('opacity')) is 0.5 # triggered during a pan gesture\r\n    $('.shield').css('opacity', '')\r\n\r\n  if !$('.shield').hasClass('darken') and !$('.shield').hasClass('animatedShield')\r\n    $('.shield').addClass('darken')\r\n  else\r\n    $('.shield').removeClass('darken')\r\n    $('.shield').removeClass('animatedShield')\r\n\r\n@removeFullscreenStyles = ->\r\n  $('#whiteboard-paper').removeClass('vertically-centered')\r\n  $('#chat').removeClass('invisible')\r\n  $('#users').removeClass('invisible')\r\n  $('#navbar').removeClass('invisible')\r\n  $('.FABTriggerButton').removeClass('invisible')\r\n  $('.fullscreenButton').removeClass('exitFullscreenButton')\r\n  $('.fullscreenButton').addClass('whiteboardFullscreenButton')\r\n  $('.fullscreenButton i').removeClass('ion-arrow-shrink')\r\n  $('.fullscreenButton i').addClass('ion-arrow-expand')\r\n\r\n@enterWhiteboardFullscreen = ->\r\n  element = document.getElementById('whiteboard')\r\n  if element.requestFullscreen\r\n    element.requestFullscreen()\r\n  else if element.mozRequestFullScreen\r\n    element.mozRequestFullScreen()\r\n    $('.fullscreenButton').addClass('iconFirefox') # browser-specific icon sizing\r\n  else if element.webkitRequestFullscreen\r\n    element.webkitRequestFullscreen()\r\n    $('.fullscreenButton').addClass('iconChrome') # browser-specific icon sizing\r\n  else if element.msRequestFullscreen\r\n    element.msRequestFullscreen()\r\n  $('#chat').addClass('invisible')\r\n  $('#users').addClass('invisible')\r\n  $('#navbar').addClass('invisible')\r\n  $('.FABTriggerButton').addClass('invisible')\r\n  $('.fullscreenButton').removeClass('whiteboardFullscreenButton')\r\n  $('.fullscreenButton').addClass('exitFullscreenButton')\r\n  $('.fullscreenButton i').removeClass('ion-arrow-expand')\r\n  $('.fullscreenButton i').addClass('ion-arrow-shrink')\r\n  $('#whiteboard-paper').addClass('vertically-centered')\r\n  $('#whiteboard').bind 'webkitfullscreenchange', (e) ->\r\n    if document.webkitFullscreenElement is null\r\n      $('#whiteboard').unbind('webkitfullscreenchange')\r\n      $('.fullscreenButton').removeClass('iconChrome')\r\n      removeFullscreenStyles()\r\n      scaleWhiteboard()\r\n  $(document).bind 'mozfullscreenchange', (e) -> # target is always the document in Firefox\r\n    if document.mozFullScreenElement is null\r\n      $(document).unbind('mozfullscreenchange')\r\n      $('.fullscreenButton').removeClass('iconFirefox')\r\n      removeFullscreenStyles()\r\n      scaleWhiteboard()\r\n\r\n@closeMenus = ->\r\n  if $('.userlistMenu').hasClass('menuOut')\r\n    toggleUserlistMenu()\r\n    toggleLeftHamburderIcon()\r\n  else if $('.settingsMenu').hasClass('menuOut')\r\n    toggleSettingsMenu()\r\n    toggleRightHamburderIcon()\r\n\r\n# Periodically check the status of the WebRTC call, when a call has been established attempt to hangup,\r\n# retry if a call is in progress, send the leave voice conference message to BBB\r\n@exitVoiceCall = (event) ->\r\n  # To be called when the hangup is initiated\r\n  hangupCallback = ->\r\n    console.log \"Exiting Voice Conference\"\r\n\r\n  # Checks periodically until a call is established so we can successfully end the call\r\n  # clean state\r\n  getInSession(\"triedHangup\", false)\r\n  # function to initiate call\r\n  (checkToHangupCall = (context) ->\r\n    # if an attempt to hang up the call is made when the current session is not yet finished, the request has no effect\r\n    # keep track in the session if we haven't tried a hangup\r\n    if BBB.getCallStatus() isnt null and !getInSession(\"triedHangup\")\r\n      console.log \"Attempting to hangup on WebRTC call\"\r\n      if BBB.amIListenOnlyAudio() # notify BBB-apps we are leaving the call call if we are listen only\r\n        Meteor.call('listenOnlyRequestToggle', BBB.getMeetingId(), getInSession(\"userId\"), getInSession(\"authToken\"), false)\r\n      BBB.leaveVoiceConference hangupCallback\r\n      getInSession(\"triedHangup\", true) # we have hung up, prevent retries\r\n      notification_WebRTCAudioExited()\r\n    else\r\n      console.log \"RETRYING hangup on WebRTC call in #{Meteor.config.app.WebRTCHangupRetryInterval} ms\"\r\n      setTimeout checkToHangupCall, Meteor.config.app.WebRTCHangupRetryInterval # try again periodically\r\n  )(@) # automatically run function\r\n  return false\r\n\r\n# close the daudio UI, then join the conference. If listen only send the request to the server\r\n@joinVoiceCall = (event, {isListenOnly} = {}) ->\r\n  if !isWebRTCAvailable()\r\n    notification_WebRTCNotSupported()\r\n    return\r\n\r\n  isListenOnly ?= true\r\n\r\n  # create voice call params\r\n  joinCallback = (message) ->\r\n    console.log \"Beginning WebRTC Conference Call\"\r\n\r\n  notification_WebRTCAudioJoining()\r\n  if isListenOnly\r\n    Meteor.call('listenOnlyRequestToggle', BBB.getMeetingId(), getInSession(\"userId\"), getInSession(\"authToken\"), true)\r\n  BBB.joinVoiceConference joinCallback, isListenOnly # make the call #TODO should we apply role permissions to this action?\r\n\r\n  return false\r\n\r\n# Starts the entire logout procedure.\r\n# meeting: the meeting the user is in\r\n# the user's userId\r\n@userLogout = (meeting, user) ->\r\n  Meteor.call(\"userLogout\", meeting, user, getInSession(\"authToken\"))\r\n  console.log \"logging out\"\r\n  clearSessionVar(document.location = getInSession 'logoutURL') # navigate to logout\r\n\r\n# Clear the local user session\r\n@clearSessionVar = (callback) ->\r\n  amplify.store('authToken', null)\r\n  amplify.store('bbbServerVersion', null)\r\n  amplify.store('chats', null)\r\n  amplify.store('dateOfBuild', null)\r\n  amplify.store('display_chatPane', null)\r\n  amplify.store('display_chatbar', null)\r\n  amplify.store('display_navbar', null)\r\n  amplify.store('display_usersList', null)\r\n  amplify.store('display_whiteboard', null)\r\n  amplify.store('inChatWith', null)\r\n  amplify.store('logoutURL', null)\r\n  amplify.store('meetingId', null)\r\n  amplify.store('messageFontSize', null)\r\n  amplify.store('tabsRenderedTime', null)\r\n  amplify.store('userId', null)\r\n  amplify.store('display_menu', null)\r\n  if callback?\r\n    callback()\r\n\r\n# assign the default values for the Session vars\r\n@setDefaultSettings = ->\r\n  setInSession \"display_navbar\", true\r\n  setInSession \"display_chatbar\", true\r\n  setInSession \"display_whiteboard\", true\r\n  setInSession \"display_chatPane\", true\r\n\r\n  #if it is a desktop version of the client\r\n  if isPortraitMobile() or isLandscapeMobile()\r\n    setInSession \"messageFontSize\", Meteor.config.app.mobileFont\r\n  #if this is a mobile version of the client\r\n  else\r\n    setInSession \"messageFontSize\", Meteor.config.app.desktopFont\r\n  setInSession 'display_slidingMenu', false\r\n  setInSession 'display_hiddenNavbarSection', false\r\n  if isLandscape()\r\n    setInSession 'display_usersList', true\r\n  else\r\n    setInSession 'display_usersList', false\r\n  setInSession 'display_menu', false\r\n  setInSession 'chatInputMinHeight', 0\r\n\r\n  #keep notifications and an opened private chat tab if page was refreshed\r\n  #reset to default if that's a new user\r\n  if loginOrRefresh()\r\n    initChats = [\r\n      userId: \"PUBLIC_CHAT\"\r\n      gotMail: false\r\n      number: 0\r\n    ]\r\n    setInSession 'chats', initChats\r\n    setInSession \"inChatWith\", 'PUBLIC_CHAT'\r\n\r\n  TimeSync.loggingEnabled = false # suppresses the log messages from timesync\r\n\r\n#true if it is a new user, false if the client was just refreshed\r\n@loginOrRefresh = ->\r\n  userId = getInSession 'userId'\r\n  checkId = getInSession 'checkId'\r\n  if checkId is undefined\r\n    setInSession 'checkId', userId\r\n    return true\r\n  else if userId isnt checkId\r\n    setInSession 'checkId', userId\r\n    return true\r\n  else\r\n    return false\r\n\r\n@onLoadComplete = ->\r\n  document.title = \"BigBlueButton #{BBB.getMeetingName() ? 'HTML5'}\"\r\n  setDefaultSettings()\r\n\r\n  Meteor.Users.find().observe({\r\n  removed: (oldDocument) ->\r\n    if oldDocument.userId is getInSession 'userId'\r\n      document.location = getInSession 'logoutURL'\r\n  })\r\n\r\n# Detects a mobile device\r\n@isMobile = ->\r\n  navigator.userAgent.match(/Android/i) or\r\n  navigator.userAgent.match(/iPhone|iPad|iPod/i) or\r\n  navigator.userAgent.match(/BlackBerry/i) or\r\n  navigator.userAgent.match(/Windows Phone/i) or\r\n  navigator.userAgent.match(/IEMobile/i) or\r\n  navigator.userAgent.match(/BlackBerry/i) or\r\n  navigator.userAgent.match(/webOS/i)\r\n\r\n@isLandscape = ->\r\n  not isMobile() and\r\n  window.matchMedia('(orientation: landscape)').matches and      # browser is landscape\r\n  window.matchMedia('(min-device-aspect-ratio: 1/1)').matches    # device is landscape\r\n\r\n@isPortrait = ->\r\n  not isMobile() and\r\n  window.matchMedia('(orientation: portrait)').matches and       # browser is portrait\r\n  window.matchMedia('(min-device-aspect-ratio: 1/1)').matches    # device is landscape\r\n\r\n# Checks if the view is portrait and a mobile device is being used\r\n@isPortraitMobile = () ->\r\n isMobile() and\r\n window.matchMedia('(orientation: portrait)').matches and        # browser is portrait\r\n window.matchMedia('(max-device-aspect-ratio: 1/1)').matches     # device is portrait\r\n\r\n# Checks if the view is landscape and mobile device is being used\r\n@isLandscapeMobile = () ->\r\n  isMobile() and\r\n  window.matchMedia('(orientation: landscape)').matches and      # browser is landscape\r\n  window.matchMedia('(min-device-aspect-ratio: 1/1)').matches    # device is landscape\r\n\r\n@isLandscapePhone = () ->\r\n  # @phone-landscape media query:\r\n  window.matchMedia('(orientation: landscape)').matches and\r\n  window.matchMedia('(min-device-aspect-ratio: 1/1)').matches and\r\n  window.matchMedia('(max-device-width: 959px)').matches\r\n\r\n@isPortraitPhone = () ->\r\n  # @phone-portrait media query:\r\n  (window.matchMedia('(orientation: portrait)').matches and\r\n  window.matchMedia('(max-device-aspect-ratio: 1/1)').matches and\r\n  window.matchMedia('(max-device-width: 480px)').matches) or\r\n  # @phone-portrait-with-keyboard media query:\r\n  (window.matchMedia('(orientation: landscape)').matches and\r\n  window.matchMedia('(max-device-aspect-ratio: 1/1)').matches and\r\n  window.matchMedia('(max-device-width: 480px)').matches)\r\n\r\n@isPhone = () ->\r\n  isLandscapePhone() or isPortraitPhone()\r\n\r\n# The webpage orientation is now landscape\r\n@orientationBecameLandscape = ->\r\n  adjustChatInputHeight()\r\n# The webpage orientation is now portrait\r\n@orientationBecamePortrait = ->\r\n  adjustChatInputHeight()\r\n# Checks if only one panel (userlist/whiteboard/chatbar) is currently open\r\n@isOnlyOnePanelOpen = () ->\r\n  #(getInSession \"display_usersList\" ? 1 : 0) + (getInSession \"display_whiteboard\" ? 1 : 0) + (getInSession \"display_chatbar\" ? 1 : 0) is 1\r\n  getInSession(\"display_usersList\") + getInSession(\"display_whiteboard\") + getInSession(\"display_chatbar\") is 1\r\n\r\n# determines which browser is being used\r\n@getBrowserName = () ->\r\n  if navigator.userAgent.match(/Chrome/i)\r\n    return 'Chrome'\r\n  else if navigator.userAgent.match(/Firefox/i)\r\n    return 'Firefox'\r\n  else if navigator.userAgent.match(/Safari/i)\r\n    return 'Safari'\r\n  else if navigator.userAgent.match(/Trident/i)\r\n    return 'IE'\r\n  else\r\n    return null\r\n\r\n@scrollChatDown = () ->\r\n  $('#chatbody').scrollTop($('#chatbody')[0]?.scrollHeight)\r\n\r\n# changes the height of the chat input area if needed (based on the textarea content)\r\n@adjustChatInputHeight = () ->\r\n  if isLandscape()\r\n    $('#newMessageInput').css('height', 'auto')\r\n    projectedHeight = $('#newMessageInput')[0].scrollHeight + 23\r\n    if projectedHeight isnt $('.panel-footer').height() and\r\n    projectedHeight >= getInSession('chatInputMinHeight')\r\n      $('#newMessageInput').css('overflow', 'hidden') # prevents a scroll bar\r\n\r\n      # resizes the chat input area\r\n      $('.panel-footer').css('top', - (projectedHeight - 70) + 'px')\r\n      $('.panel-footer').css('height', projectedHeight + 'px')\r\n\r\n      $('#newMessageInput').height($('#newMessageInput')[0].scrollHeight)\r\n\r\n      # resizes the chat messages container\r\n      $('#chatbody').height($('#chat').height() - projectedHeight - 45)\r\n      $('#chatbody').scrollTop($('#chatbody')[0]?.scrollHeight)\r\n    $('#newMessageInput').css('height', '')\r\n  else if isPortrait()\r\n    $('.panel-footer').attr('style','')\r\n    $('#chatbody').attr('style','')\r\n    $('#newMessageInput').attr('style','')\r\n\r\n@toggleEmojisFAB = () ->\r\n  if $('.FABContainer').hasClass('openedFAB')\r\n    $('.FABContainer > button:nth-child(2)').css('opacity', $('.FABContainer > button:nth-child(2)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(3)').css('opacity', $('.FABContainer > button:nth-child(3)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(4)').css('opacity', $('.FABContainer > button:nth-child(4)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(5)').css('opacity', $('.FABContainer > button:nth-child(5)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(6)').css('opacity', $('.FABContainer > button:nth-child(6)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(7)').css('opacity', $('.FABContainer > button:nth-child(7)').css('opacity'))\r\n    $('.FABContainer').removeClass('openedFAB')\r\n    $('.FABContainer').addClass('closedFAB')\r\n  else\r\n    $('.FABContainer > button:nth-child(2)').css('opacity', $('.FABContainer > button:nth-child(2)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(3)').css('opacity', $('.FABContainer > button:nth-child(3)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(4)').css('opacity', $('.FABContainer > button:nth-child(4)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(5)').css('opacity', $('.FABContainer > button:nth-child(5)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(6)').css('opacity', $('.FABContainer > button:nth-child(6)').css('opacity'))\r\n    $('.FABContainer > button:nth-child(7)').css('opacity', $('.FABContainer > button:nth-child(7)').css('opacity'))\r\n    $('.FABContainer').removeClass('closedFAB')\r\n    $('.FABContainer').addClass('openedFAB')\r\n\r\n@toggleLeftHamburderIcon = () ->\r\n  if $('.leftHamburgerButton').hasClass('hamburgerToggledOn')\r\n    $('.leftHamburgerButton').removeClass('hamburgerToggledOn')\r\n  else\r\n    $('.leftHamburgerButton').addClass('hamburgerToggledOn')\r\n\r\n@toggleRightHamburderIcon = () ->\r\n  if $('.rightHamburgerButton').hasClass('hamburgerToggledOn')\r\n    $('.rightHamburgerButton').removeClass('hamburgerToggledOn')\r\n  else\r\n    $('.rightHamburgerButton').addClass('hamburgerToggledOn')\r\n\r\n@toggleUserlistMenu = () ->\r\n  if $('.userlistMenu').hasClass('menuOut')\r\n    $('.userlistMenu').removeClass('menuOut')\r\n  else\r\n    $('.userlistMenu').addClass('menuOut')\r\n\r\n@toggleSettingsMenu = () ->\r\n  if $('.settingsMenu').hasClass('menuOut')\r\n    $('.settingsMenu').removeClass('menuOut')\r\n  else\r\n    $('.settingsMenu').addClass('menuOut')\r\n"]}