{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nTemplate.makeButton.helpers({\n  hasGotUnreadMail: function(userId) {\n    var chats, i, j, len, len1, tabs;\n    chats = getInSession('chats');\n    if (chats !== void 0) {\n      if (userId === \"all_chats\") {\n        for (i = 0, len = chats.length; i < len; i++) {\n          tabs = chats[i];\n          if (tabs.gotMail === true) {\n            return true;\n          }\n        }\n      } else if (userId === \"PUBLIC_CHAT\") {\n        for (j = 0, len1 = chats.length; j < len1; j++) {\n          tabs = chats[j];\n          if (tabs.userId === userId && tabs.gotMail === true) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  },\n  getNumberOfUnreadMessages: function(userId) {\n    var chat, chats, i, len;\n    if (userId === \"all_chats\") {\n      return;\n    } else {\n      chats = getInSession('chats');\n      if (chats !== void 0) {\n        for (i = 0, len = chats.length; i < len; i++) {\n          chat = chats[i];\n          if (chat.userId === userId && chat.gotMail) {\n            if (chat.number > 9) {\n              return \"9+\";\n            } else {\n              return chat.number;\n            }\n          }\n        }\n      }\n    }\n  },\n  getNotificationClass: function(userId) {\n    if (userId === \"all_chats\") {\n      return \"unreadChat\";\n    }\n    if (userId === \"PUBLIC_CHAT\") {\n      return \"unreadChatNumber\";\n    }\n  }\n});\n","sourceMap":{"version":3,"file":"/client/views/sharedTemplates.coffee.js","sourceRoot":"","sources":["/client/views/sharedTemplates.coffee"],"names":[],"mappings":";AAAA,QAAQ,CAAC,UAAU,CAAC,OAApB,CACE;AAAA,EAAA,gBAAA,EAAkB,SAAC,MAAD,GAAA;AAChB,QAAA,4BAAA;AAAA,IAAA,KAAA,GAAQ,YAAA,CAAa,OAAb,CAAR,CAAA;AACA,IAAA,IAAG,KAAA,KAAW,MAAd;AACE,MAAA,IAAG,MAAA,KAAU,WAAb;AACE,aAAA,uCAAA;0BAAA;AACE,UAAA,IAAG,IAAI,CAAC,OAAL,KAAgB,IAAnB;AACE,mBAAO,IAAP,CADF;WADF;AAAA,SADF;OAAA,MAIK,IAAG,MAAA,KAAU,aAAb;AACH,aAAA,yCAAA;0BAAA;AACE,UAAA,IAAG,IAAI,CAAC,MAAL,KAAe,MAAf,IAA0B,IAAI,CAAC,OAAL,KAAgB,IAA7C;AACE,mBAAO,IAAP,CADF;WADF;AAAA,SADG;OALP;KADA;AAUA,WAAO,KAAP,CAXgB;EAAA,CAAlB;AAAA,EAaA,yBAAA,EAA2B,SAAC,MAAD,GAAA;AACzB,QAAA,mBAAA;AAAA,IAAA,IAAG,MAAA,KAAU,WAAb;AACE,YAAA,CADF;KAAA,MAAA;AAGE,MAAA,KAAA,GAAQ,YAAA,CAAa,OAAb,CAAR,CAAA;AACA,MAAA,IAAG,KAAA,KAAW,MAAd;AACE,aAAA,uCAAA;0BAAA;AACE,UAAA,IAAG,IAAI,CAAC,MAAL,KAAe,MAAf,IAA0B,IAAI,CAAC,OAAlC;AACE,YAAA,IAAG,IAAI,CAAC,MAAL,GAAc,CAAjB;AACE,qBAAO,IAAP,CADF;aAAA,MAAA;AAGE,qBAAO,IAAI,CAAC,MAAZ,CAHF;aADF;WADF;AAAA,SADF;OAJF;KADyB;EAAA,CAb3B;AAAA,EA2BA,oBAAA,EAAsB,SAAC,MAAD,GAAA;AACpB,IAAA,IAAG,MAAA,KAAU,WAAb;AACE,aAAO,YAAP,CADF;KAAA;AAEA,IAAA,IAAG,MAAA,KAAU,aAAb;AACE,aAAO,kBAAP,CADF;KAHoB;EAAA,CA3BtB;CADF,CAAA,CAAA","sourcesContent":["Template.makeButton.helpers\r\n  hasGotUnreadMail: (userId) ->\r\n    chats = getInSession('chats')\r\n    if chats isnt undefined\r\n      if userId is \"all_chats\"\r\n        for tabs in chats\r\n          if tabs.gotMail is true\r\n            return true\r\n      else if userId is \"PUBLIC_CHAT\"\r\n        for tabs in chats\r\n          if tabs.userId is userId and tabs.gotMail is true\r\n            return true\r\n    return false\r\n  \r\n  getNumberOfUnreadMessages: (userId) ->\r\n    if userId is \"all_chats\"\r\n      return\r\n    else\r\n      chats = getInSession('chats')\r\n      if chats isnt undefined\r\n        for chat in chats\r\n          if chat.userId is userId and chat.gotMail\r\n            if chat.number > 9\r\n              return \"9+\"\r\n            else\r\n              return chat.number\r\n    return\r\n\r\n  getNotificationClass: (userId) ->\r\n    if userId is \"all_chats\"\r\n      return \"unreadChat\"\r\n    if userId is \"PUBLIC_CHAT\"\r\n      return \"unreadChatNumber\"\r\n"]}}