{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nMeteor.methods({\n  postToUrl: function(path, params, method) {\n    var $hiddenField, form, key;\n    method = method || \"post\";\n    form = $(\"<form></form>\");\n    form.attr({\n      \"method\": method,\n      \"action\": path\n    });\n    for (key in params) {\n      if (params.hasOwnProperty(key)) {\n        $hiddenField = $(\"input\");\n        $hiddenField.attr({\n          \"type\": \"hidden\",\n          \"name\": key,\n          \"value\": params[key]\n        });\n        form.append($hiddenField);\n      }\n    }\n    $('body').append(form);\n    return form.submit();\n  }\n});\n\nthis.formatThickness = function(thickness) {\n  if (thickness == null) {\n    thickness = \"1\";\n  }\n  if (!thickness.toString().match(/.*px$/)) {\n    \"#\" + thickness + \"px\";\n  }\n  return thickness;\n};\n\nthis.zoomStroke = function(thickness) {\n  var currentSlide, ratio;\n  currentSlide = this.getCurrentSlideDoc();\n  ratio = ((currentSlide != null ? currentSlide.slide.width_ratio : void 0) + (currentSlide != null ? currentSlide.slide.height_ratio : void 0)) / 2;\n  return thickness * 100 / ratio;\n};\n","sourceMap":{"version":3,"file":"/client/whiteboard_models/utils.coffee.js","sourceRoot":"","sources":["/client/whiteboard_models/utils.coffee"],"names":[],"mappings":";AAEA,MAAM,CAAC,OAAP,CAME;AAAA,EAAA,SAAA,EAAW,SAAC,IAAD,EAAO,MAAP,EAAe,MAAf,GAAA;AACT,QAAA,uBAAA;AAAA,IAAA,MAAA,GAAS,MAAA,IAAU,MAAnB,CAAA;AAAA,IACA,IAAA,GAAO,CAAA,CAAE,eAAF,CADP,CAAA;AAAA,IAEA,IAAI,CAAC,IAAL,CACE;AAAA,MAAA,QAAA,EAAW,MAAX;AAAA,MACA,QAAA,EAAW,IADX;KADF,CAFA,CAAA;AAKA,SAAA,aAAA,GAAA;AACE,MAAA,IAAG,MAAM,CAAC,cAAP,CAAsB,GAAtB,CAAH;AACE,QAAA,YAAA,GAAe,CAAA,CAAE,OAAF,CAAf,CAAA;AAAA,QACA,YAAY,CAAC,IAAb,CACE;AAAA,UAAA,MAAA,EAAS,QAAT;AAAA,UACA,MAAA,EAAS,GADT;AAAA,UAEA,OAAA,EAAU,MAAO,CAAA,GAAA,CAFjB;SADF,CADA,CAAA;AAAA,QAKA,IAAI,CAAC,MAAL,CAAY,YAAZ,CALA,CADF;OADF;AAAA,KALA;AAAA,IAcA,CAAA,CAAE,MAAF,CAAS,CAAC,MAAV,CAAiB,IAAjB,CAdA,CAAA;WAeA,IAAI,CAAC,MAAL,CAAA,EAhBS;EAAA,CAAX;CANF,CAAA,CAAA;;AAAA,IAyBC,CAAA,eAAD,GAAmB,SAAC,SAAD,GAAA;;IACjB,YAAa;GAAb;AACA,EAAA,IAAG,CAAA,SAAU,CAAC,QAAV,CAAA,CAAoB,CAAC,KAArB,CAA2B,OAA3B,CAAJ;AACE,IAAA,GAAA,GAAM,SAAN,GAAkB,IAAlB,CADF;GADA;SAGA,UAJiB;AAAA,CAzBnB,CAAA;;AAAA,IAgCC,CAAA,UAAD,GAAc,SAAC,SAAD,GAAA;AACZ,MAAA,mBAAA;AAAA,EAAA,YAAA,GAAe,IAAC,CAAA,kBAAD,CAAA,CAAf,CAAA;AAAA,EACA,KAAA,GAAQ,yBAAC,YAAY,CAAE,KAAK,CAAC,qBAApB,2BAAkC,YAAY,CAAE,KAAK,CAAC,sBAAvD,CAAA,GAAuE,CAD/E,CAAA;SAEA,SAAA,GAAY,GAAZ,GAAkB,MAHN;AAAA,CAhCd,CAAA","sourcesContent":["# General utility methods\n\nMeteor.methods\n  # POST request using javascript\n  # @param  {string} path   path of submission\n  # @param  {string} params parameters to submit\n  # @param  {string} method method of submission (\"post\" is default)\n  # @return {undefined}\n  postToUrl: (path, params, method) ->\n    method = method or \"post\"\n    form = $(\"<form></form>\")\n    form.attr\n      \"method\" : method,\n      \"action\" : path\n    for key of params\n      if params.hasOwnProperty(key)\n        $hiddenField = $ \"input\"\n        $hiddenField.attr\n          \"type\" : \"hidden\",\n          \"name\" : key,\n          \"value\" : params[key]\n        form.append $hiddenField\n\n    $('body').append form\n    form.submit()\n\n# thickness can be a number (e.g. \"2\") or a string (e.g. \"2px\")\n@formatThickness = (thickness) ->\n  thickness ?= \"1\" # default value\n  if !thickness.toString().match(/.*px$/)\n    \"#\" + thickness + \"px\" # leading \"#\" - to be compatible with Firefox\n  thickness\n\n# applies zooming to the stroke thickness\n@zoomStroke = (thickness) ->\n  currentSlide = @getCurrentSlideDoc()\n  ratio = (currentSlide?.slide.width_ratio + currentSlide?.slide.height_ratio) / 2\n  thickness * 100 / ratio\n"]}}